<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>

<meta http-equiv="content-type" content="text/html; charset=ISO-8859-1"></head><body><center>
<h1>
McStas - A neutron ray-trace simulation package</h1></center>
McStas is a general tool for simulating neutron scattering instruments
and experiments. It is actively supported by <a
href="http://www.fysik.dtu.dk/">DTU Physics</a>, <a
href="http://www.nbi.dk">NBI KU</a>, <a
href="http://www.europeanspallationsource.se">ESS</a>, <a href="http://www.psi.ch">PSI</a> and <a href="http://www.ill.eu">ILL</a>.&nbsp;
<table>
<tbody><tr>
<td>
<p><img src="/pics/v_sample_logo.gif" vspace="1" width="250" hspace="15" align="LEFT"><font size="-1">Simulated
scattering from a hollow-cylinder <a href="/download/components/3.4/samples/Incoherent.html">vanadium
sample</a>. </font></p></td><td>The plot shows the intensity of scattered neutrons (red is
highest intensity). The sample is at the center of the sphere with the
neutron beam coming from the left. Clearly seen is the shadowing effect
of the sample causing a lower intensity opposite the beam. Also seen is
the effect of the non-symmetric geometry of the sample, causing lower intensity
directly above and to the side of the sample.<br clear="BOTH"></td><td><img src="/pics/McStas-25-years.png" width="250"  hspace="15" align="RIGHT"></td></tr></tbody></table>
<br>
<br>
<hr width="100%">
<center>
<h2>
Recent news
</h2>
<hr>
<strong><font color="green">Migrating from McStas 2.x to 3.x? - <a href="https://github.com/mccode-dev/McCode/wiki">Use the wiki-based guides<a></font></strong>
</center>
<hr>
<h2>February 19th, 2025: McStas and McXtrace 3.5.24 released</h2>
<p>Dear all,
<br>McStas and McXtrace release 3.5.24 is now available - McStas installation
instructons <a href="https://github.com/mccode-dev/McCode/tree/main/INSTALL-McStas">on GitHub </a>.
<h2 id="what-s-changed">What&#39;s Changed</h2>
<h3 id="important-note">Important note</h3>
<ul>
<li>McStas and McXtrace will soon change organisation-name on GitHub - from mccode-dev -&gt; mccode-dev</li>
</ul>
<h3 id="user-interfaces-and-tools">User interfaces and tools</h3>
<ul>
<li>[Feature] <code>mcgui/mxgui</code> Let configuration dialogue spawn your <code>EDITOR</code> to edit your local <code>mccode_config.json</code> 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1838">https://github.com/mccode-dev/McCode/pull/1838</a> (available also by <code>--edit-user-config</code> from <code>mcrun/mxrun</code>)</li>
<li>[Feature] <code>mcrun/mxrun</code>: New switch --cogen to allow on-demand switch to non-standard code generator. 
See also interoperability with <code>mccode-antlr</code> below 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1851">https://github.com/mccode-dev/McCode/pull/1851</a></li>
<li>[Feature] <code>mcrun/mxrun</code> Solution for picking up code generator from PATH if not found where expected 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1840">https://github.com/mccode-dev/McCode/pull/1840</a></li>
<li>[Feature] pygen minor revision: Build importable make() function and call from generic notebook 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1827">https://github.com/mccode-dev/McCode/pull/1827</a></li>
<li>[Fix] Support Scintilla editor on Debian with Qt6 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1813">https://github.com/mccode-dev/McCode/pull/1813</a></li>
<li>[Fix] Drop hard-coded check for PyQt5 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1814">https://github.com/mccode-dev/McCode/pull/1814</a></li>
<li>[Fix] No more hidden Perl dependencies! (perl -&gt; python 1-liner readlinkf()) 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1824">https://github.com/mccode-dev/McCode/pull/1824</a></li>
<li>[Fix] too-restrictive <code>mcdisplay/mxdisplay</code> instrument line parsing 
by @g5t in <a href="https://github.com/mccode-dev/McCode/pull/1834">https://github.com/mccode-dev/McCode/pull/1834</a></li>
<li>[Fix] Patches for <code>mcdisplay/mxdisplay</code> in Windows 
from @LelandWH <a href="https://github.com/mccode-dev/McCode/issues/1853">https://github.com/mccode-dev/McCode/issues/1853</a></li>
</ul>
<h3 id="components-and-instruments">Components and instruments</h3>
<ul>
<li>[Fix] McStas <code>Vertical_bender</code>: Add max iteration criterion for while loop (default 1000). 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1815">https://github.com/mccode-dev/McCode/pull/1815</a></li>
<li>[Fix] McStas <code>NCrystal_sample</code>: Remove possible out-of-bounds memory access 
by @g5t in <a href="https://github.com/mccode-dev/McCode/pull/1821">https://github.com/mccode-dev/McCode/pull/1821</a></li>
<li>[Fix] McStas <code>Elliptic_guide_gravity</code> and <code>Pol_mirror</code>: Minor comp revisions, suppresses compilation warnings from clang 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1826">https://github.com/mccode-dev/McCode/pull/1826</a></li>
<li>[Fix] McStas <code>SNS_ARCS.instr</code> edits 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1838">https://github.com/mccode-dev/McCode/pull/1838</a></li>
<li>[Fix] McStas <code>ISIS_IMAT.instr</code> DEPENDENCY &quot; @NEXUSFLAGS@ &quot; added 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1839">https://github.com/mccode-dev/McCode/pull/1839</a></li>
<li>[Fix] McStas <code>Union_master</code> Adjustment of default parameter 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1840">https://github.com/mccode-dev/McCode/pull/1840</a></li>
<li>[Fix] McStas <code>Union</code>-related fixes and imports from DMSC school 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1841">https://github.com/mccode-dev/McCode/pull/1841</a></li>
<li>[Fix] McStas <code>Elliptical_guide_gravity</code> did not work in GROUPS as it always SCATTERS 
by @mads-bertelsen in <a href="https://github.com/mccode-dev/McCode/pull/1843">https://github.com/mccode-dev/McCode/pull/1843</a></li>
<li>[Fix] <code>Monitor_nD</code> on GPU: Adjustments for coherence between CPU and GPU particle lists 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1816">https://github.com/mccode-dev/McCode/pull/1816</a></li>
</ul>
<h3 id="core-simulation-toolkit">Core simulation toolkit</h3>
<ul>
<li>[Feature] NeXus: sort comp instances by index and include comp parameter information 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1828">https://github.com/mccode-dev/McCode/pull/1828</a></li>
<li>[Fix] Increased stability in  NeXus x wide MPI 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1811">https://github.com/mccode-dev/McCode/pull/1811</a></li>
<li>[Fix] Portability, Windows + <code>cl.exe</code>: Remove variable length array allocations for issue #1817 
by @g5t in <a href="https://github.com/mccode-dev/McCode/pull/1819">https://github.com/mccode-dev/McCode/pull/1819</a> and
<a href="https://github.com/mccode-dev/McCode/issues/1818">https://github.com/mccode-dev/McCode/issues/1818</a> by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1822">https://github.com/mccode-dev/McCode/pull/1822</a></li>
</ul>
<h3 id="interfaces-and-interoperability-with-other-codes">Interfaces and interoperability with other codes</h3>
<h4 id="-ncrystal-https-github-com-mctools-ncrystal-wiki-"><a href="https://github.com/mctools/ncrystal/wiki">NCrystal</a></h4>
<ul>
<li>Thanks to @tkittel for ping-pong on this :)</li>
<li>[Feature] McStas 3.5.24 and later now depends on NCrystal 4.0.0 and later. NCrystal is now available also on Windows! 
by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1848">https://github.com/mccode-dev/McCode/pull/1848</a> and  <a href="https://github.com/mccode-dev/McCode/pull/1855">https://github.com/mccode-dev/McCode/pull/1855</a></li>
</ul>
<h4 id="-mccode-antlr-https-github-com-mcstasmcxtrace-mccode-antlr-"><a href="https://github.com/mccode-dev/mccode-antlr"><code>mccode-antlr</code></a></h4>
<ul>
<li>Thanks to @g5t for ping-pong on this :)</li>
<li>[Feature] <code>mccode-antlr</code> is an alternative code-generator for McStas and McXtrace - a new development by @g5t and based on <code>ANTLR</code> instead of <code>lex/yacc</code>. The new tool is mainly written in python and thus has a lower barrier for changes in language syntax and code generation. The tool implementations <code>mcstas-antlr</code> and <code>mcxtrace-antlr</code> are thus a candidate implementations to potentially replace the classic <code>mcstas</code> and <code>mcxtrace</code> code generators in the future. Current status is that<ul>
<li>McStas: <code>mcstas-antlr</code> is fully feature complete wrt. <code>mcstas</code> for CPU simulations and close to complete for GPU simulations</li>
<li>McXtrace: Not all instruments will compile using <code>mcxtrace-antlr</code> but basic functionality is in place</li>
<li>To try: <ol>
<li>Install <code>mccode-antlr</code> from <code>conda-forge</code> or via <code>pip</code></li>
<li>Adapt your configuration to use e.g. <code>mcstas-antlr</code> by <ul>
<li>Setting the new <code>--cogen=mcstas-antlr</code> option in <code>mcrun</code></li>
<li>Enable or edit the <code>MCCOGEN</code> field of <code>mccode_config.json</code> using the new <code>Save/Edit configuration</code> in <code>mcgui</code></li>
<li>(The antlr tools default to download comps etc. to an internal cache: Add e.g. <code>-I${MCSTAS}</code> to prefer ingredients fromyour local library)</li>
</ul>
</li>
<li>Use the <code>mcrun-antlr/mxrun-antlr</code> tools provided directly by <code>mccode-antlr</code></li>
</ol>
</li>
</ul>
</li>
</ul>
<h3 id="platform-support">Platform support</h3>
<ul>
<li>Debian/Ubuntu<ul>
<li>[Fix] Make hidden numpy dependency explicit also on Debian by @willend in <a href="https://github.com/mccode-dev/McCode/pull/1825">https://github.com/mccode-dev/McCode/pull/1825</a></li>
<li>[Fix] McXtrace meta-pkgs for Debian add libgsl-dev as dependency by @farhi in <a href="https://github.com/mccode-dev/McCode/pull/185">https://github.com/mccode-dev/McCode/pull/185</a></li>
</ul>
</li>
<li>Windows<ul>
<li>[Feature] NCrystal is now available with McStas on Windows</li>
<li>[Info] Windows via cross-compiled <code>.exe</code>installer from <code>mccode.org</code>: 
Please place the MCPL-related <code>.bat</code> files from the <code>extras</code> folder in e.g. <code>c:\mcstas-3.5.24\bin</code> to enable MCPL
(May require giving your user &#39;full access&#39; permissions to the bin folder)</li>
<li>[Info] Windows via conda-forge: MCPL is not yet available but expected during the spring</li>
</ul>
</li>
</ul>
<p><strong>Full Changelog</strong>: <a href="https://github.com/mccode-dev/McCode/compare/v3.5.16...v3.5.24">https://github.com/mccode-dev/McCode/compare/v3.5.16...v3.5.24</a></p>
<hr>
<h2>January 8th, 2025: Monte Carlo Satellite to ICNS2025</h2>
<p>Dear all,<p>The <a href="https://icns2025.org">ICNS2025 conference</a> is
taking place in Copenhagen and Lund this summer, and the abstract
submission is closing <b>January 15th - in one week</b>.
<p><center><a href="https://icns2025.org"><img
src="/pics/icns2025.jpg" width="208"></a></center>

<p>Of special interest to McStas users:<br>
A satellite event is being planned for July 11th, arranged by Mads Bertelsen, ESS and Peter Willendrup DTU/ESS. 
We envision a one-day event with contributed talks on instrument simulation and its use, abstract submission will open soon:<br>

<h3><strong>Advanced computer simulations methods for neutron scattering instruments</strong></h3>

<p><i>Abstract:</i><br>
Neutron scattering relies heavily on computer simulations of neutron scattering instrumentation to optimize their performance. These simulation tools are also evolving to be more relevant for a running facility, aiding in both preparation and analysis for individual experiments. It is even becoming possible to make better decisions during experiments by running simulations in parallel.

<p>All the best and hope to see you this summer in Copenhagen,
<br>Peter Willendrup
<hr>
<p><b>Previous news items: </b><a href="/news/2024.html">2024</a>,
</b><a href="/news/2023.html">2023</a>, <a href="/news/2022.html">2022</a>, <a href="/news/2021.html">2021</a>,<a href="/news/2020.html">2020</a>,<a href="/news/2019.html">2019</a>, <a href="/news/2018.html">2018</a>, <a
href="/news/2017.html">2017</a>, <a href="/news/2016.html">2016</a>,
<a href="/news/2015.html">2015</a>, <a
href="/news/2014.html">2014</a>, <a href="/news/2013.html">2013</a>,
<a href="/news/2012.html">2012</a>, <a
href="/news/2011.html">2011</a>, </b><a
href="/news/2010.html">2010</a>, <a href="/news/2009.html">2009</a>,
<a href="/news/2008.html">2008</a>, <a
href="/news/2007.html">2007</a>, <a href="/news/2006.html">2006</a>,
<a href="/news/2005.html">2005</a>, <a
href="/news/2004.html">2004</a>, <a href="/news/2003.html">2003</a>, <a href="/news/2002.html">2002</a>, <a href="/news/2001.html">2001</a>, <a href="/news/2000.html">2000</a>, <a href="/news/1999.html">1999</a>,
<a href="/news/1998.html">1998</a>.

</p></body></html>
