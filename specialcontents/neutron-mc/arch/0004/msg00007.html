<P><strong><blink>This archive web page is obsolete!</blink></strong> 
<P>Please refer to the new <a href="/pipermail/neutron-mc">mailman<a> archive!


<!-- MHonArc v2.1.0 -->
<!--X-Subject: Re: McStas Single_Crystal Component -->
<!--X-From: Kristian Nielsen <kristian.nielsen@risoe.dk> -->
<!--X-Date: 11 Apr 2000 18:03:14 +0200 -->
<!--X-Message-Id:  -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 38F33FCA.91CB66D2@embl&#45;grenoble.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: McStas Single_Crystal Component</title>
<link rev="made" href="mailto:kristian.nielsen@risoe.dk">
</head>
<body bgcolor="white">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<A HREF="msg00006.html">Date Prev</A>][<A HREF="msg00008.html">Date Next</A>]
<a href="index.html#00007">[Chronological]</a>
<a href="threads.html#00007">[Thread]</a>
<a href="/cgi-bin/wilma/neutron-mc">[Top]</a>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: McStas Single_Crystal Component</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:maurer@embl-grenoble.fr">maurer@embl-grenoble.fr</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: McStas Single_Crystal Component</strong></LI>
<LI><strong>From</strong>: <strong>Kristian Nielsen &lt;<A HREF="mailto:kristian.nielsen@risoe.dk">kristian.nielsen@risoe.dk</A>&gt;</strong></LI>
<LI>Date: 11 Apr 2000 18:03:14 +0200</LI>
<LI>In-reply-to: &lt;<A HREF="msg00006.html">38F33FCA.91CB66D2@embl-grenoble.fr</A>&gt; (message from Maurer Edithon Tue, 11 Apr 2000 17:07:55 +0200)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt; Date: Tue, 11 Apr 2000 17:07:55 +0200
&gt; From: Maurer Edith &lt;maurer@embl-grenoble.fr&gt;

&gt; we are trying to use the single crystall component of McStas. Our
&gt; problem is the following. We can compile the instrument but with the
&gt; warning 1116
&gt; non-void funktion "read_hkl_data" should return a value. And running the

This warning is harmless (it will be fixed in the next version). Thanks
for the report.

&gt; simulation is endless.

Maybe you could send me the files you used, and I could try to reproduce
the problem and find the cause?

There is one problem I discovered recently. In the file
Single_crystal.comp there is a line that reads

  for( i = 0; i &lt; 6; i=i++ )

This should read

  for( i = 0; i &lt; 6; i=i+1 )

Depending on the compiler used, this could cause an infinite loop. You
could try changing it and see if it helps.

&gt; Could you send us an example file which we can read in as
&gt; reflectionsdata ?

There is a good example of the use of the Single_crystal component in
the McStas tutorial. It may be downloaded from the world-wide-web:

    <A HREF="http://neutron.risoe.dk/mcstas/tutorial/">http://neutron.risoe.dk/mcstas/tutorial/</A>

Hope this helps, if not please ask again and send the simulation files
you used.

 - Kristian.

--
Kristian Nielsen        kristian.nielsen@risoe.dk
Risø National Laboratory
Condensed Matter Physics and Chemistry Department
Tel. +45 4677 5515   Fax +45 4677 4790
Encryption PGP key <A HREF="http://neutron.risoe.dk/kn.txt">http://neutron.risoe.dk/kn.txt</A>




</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00006" HREF="msg00006.html">McStas Single_Crystal Component</A></STRONG>
<UL><LI><EM>From:</EM> Maurer Edith &lt;maurer@embl-grenoble.fr&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<LI>Prev by Date:
<STRONG><A HREF="msg00006.html">McStas Single_Crystal Component</A></STRONG>
</LI>

<LI>Next by Date:
<STRONG><A HREF="msg00008.html">Re: bug in mosaic_simple/anisotropic?</A></STRONG>
</LI>

<li>Index(es):
<ul>
<li><a href="index.html#00007"><strong>Chronological</Strong></a></li>
<li><a href="threads.html#00007"><strong>Thread</strong></a></li>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
