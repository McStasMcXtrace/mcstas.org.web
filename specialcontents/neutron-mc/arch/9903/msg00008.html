<P><strong><blink>This archive web page is obsolete!</blink></strong> 
<P>Please refer to the new <a href="/pipermail/neutron-mc">mailman<a> archive!


<!-- MHonArc v2.1.0 -->
<!--X-Subject: Re: McStas -->
<!--X-From: Kristian Nielsen <kristian.nielsen@risoe.dk> -->
<!--X-Date: 12 Mar 1999 10:48:39 +0100 -->
<!--X-Message-Id:  -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: v0213050fb30e8e47a71e@[193.48.250.126] -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: McStas</title>
<link rev="made" href="mailto:kristian.nielsen@risoe.dk">
</head>
<body bgcolor="white">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<A HREF="msg00009.html">Date Prev</A>][<A HREF="msg00010.html">Date Next</A>]
<a href="index.html#00008">[Chronological]</a>
<a href="threads.html#00008">[Thread]</a>
<a href="/cgi-bin/wilma/neutron-mc">[Top]</a>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: McStas</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:hansen@ill.fr">hansen@ill.fr</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: McStas</strong></LI>
<LI><strong>From</strong>: <strong>Kristian Nielsen &lt;<A HREF="mailto:kristian.nielsen@risoe.dk">kristian.nielsen@risoe.dk</A>&gt;</strong></LI>
<LI>Date: 12 Mar 1999 10:48:39 +0100</LI>
<LI>In-reply-to: &lt;<A HREF="msg00007.html">v0213050fb30e8e47a71e@[193.48.250.126]</A>&gt; (hansen@ill.fr)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt; You promised some headache in your manual about conventions ... In your
&gt; proposed convention about xyz a word is missing about rotations, what's
&gt; their convention?

I am not quite sure what you mean here ... I do not think we have any
special conventions for rotations, since the meanings of rotations is
pretty much given when the meaning of the axes is fixed. Eg. once we say
that the Y axis is pointing upwards, it is clear what a rotation around
the Y axis means.

Maybe the following copy of an answer by me on the mailing list will be
of help to you, otherwise ask again.

 - Kristian.

------------------------------------------------------------------------
&gt; Now the question:
&gt; I'm trying to optimize the angle of a specific mirror in the neutron
&gt; path. From the manual and also the results of the calculations it is not
&gt; quite clear to me, how the mirror is moved and rotated and what the
&gt; reference points are.

Yes, this is a point that can be a bit confusing, and I am planning on
writing a clarification in the next version of the manual.

But if you approach the issue in the right way, it is not at all
complicated. The coordinate system of a component has a position and an
orientation. The position is the spatial location of the reference
point. The orientation is the direction of the axes.

Now, when a component is specified in the instrument definition, it has
an AT and a ROTATED specification. The AT specifies the position and the
ROTATED specifies the orientation.

Thus if component C is AT (x,y,z) relative component A and ROTATED
(v,0,0) relative component B, the reference point of C is at (x,y,z) in
the coordinate system of A and the axes of C are the axes of B rotated
the angle v around the X axis of B.




</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00007" HREF="msg00007.html">McStas</A></STRONG>
<UL><LI><EM>From:</EM> hansen@ill.fr (Thomas Hansen)</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<LI>Prev by Date:
<STRONG><A HREF="msg00009.html">McStas</A></STRONG>
</LI>

<LI>Next by Date:
<STRONG><A HREF="msg00010.html">McStas: String to INSTRUMENT</A></STRONG>
</LI>

<li>Index(es):
<ul>
<li><a href="index.html#00008"><strong>Chronological</Strong></a></li>
<li><a href="threads.html#00008"><strong>Thread</strong></a></li>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
