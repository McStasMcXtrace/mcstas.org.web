<P><strong><blink>This archive web page is obsolete!</blink></strong> 
<P>Please refer to the new <a href="/pipermail/neutron-mc">mailman<a> archive!


<!-- MHonArc v2.1.0 -->
<!--X-Subject: Re: Mcstas 1.1 -->
<!--X-From: Kristian Nielsen <kristian.nielsen@risoe.dk> -->
<!--X-Date: 11 Jun 1999 08:38:51 +0200 -->
<!--X-Message-Id:  -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 99061013535629@psicl0.psi.ch -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: Mcstas 1.1</title>
<link rev="made" href="mailto:kristian.nielsen@risoe.dk">
</head>
<body bgcolor="white">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<A HREF="msg00009.html">Date Prev</A>][<A HREF="msg00000.html">Date Next</A>]
<a href="index.html#00010">[Chronological]</a>
<a href="threads.html#00010">[Thread]</a>
<a href="/cgi-bin/wilma/neutron-mc">[Top]</a>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: Mcstas 1.1</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:Bertrand.Roessli@psi.ch">Bertrand.Roessli@psi.ch</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: Mcstas 1.1</strong></LI>
<LI><strong>From</strong>: <strong>Kristian Nielsen &lt;<A HREF="mailto:kristian.nielsen@risoe.dk">kristian.nielsen@risoe.dk</A>&gt;</strong></LI>
<LI>Date: 11 Jun 1999 08:38:51 +0200</LI>
<LI>In-reply-to: &lt;<A HREF="msg00009.html">99061013535629@psicl0.psi.ch</A>&gt; (Bertrand.Roessli@psi.ch)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt; Dear Kristian,
&gt; 
&gt; please find below the linup-1.c file which
&gt; has got undefined variables.

Ok, from this I was able to spot the cause of the problems with
undefined symbols. The problem is the mixing of two different versions
of McStas. The file has been generated with version 1.1 of McStas, but
using files from version 1.0. This means that the 'mcstas' command that
was run is from version 1.1, but when the program searched for the files
it needed (particularly mcstas-r.c and mcstas-r.h), it found the wrong
ones from version 1.0. This will not work.

I wonder how this has happened? Perhaps the most likely cause is that
when you installed version 1.0, the environment variable MCSTAS was set
to point to the location of the 1.0 files (you can check this with the
command

  echo $MCSTAS

and see if it gives the name of a directory). Then McStas v1.1 was
installed in another location, without updating the environment
variable. Usually, the environment variable is not necessary since
McStas remembers the location of its files when it is installed. Setting
the variable to the wrong value would cause the problems you
experienced.

I hope this clarifies things for you? Otherwise, perhaps you can write
me the exact command that was used to produce the file 'linup-1.c' along
with the output from the "echo $MCSTAS" command above?

 - Kristian.





</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00009" HREF="msg00009.html">Re: Mcstas 1.1</A></STRONG>
<UL><LI><EM>From:</EM> Bertrand.Roessli@psi.ch</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<LI>Prev by Date:
<STRONG><A HREF="msg00009.html">Re: Mcstas 1.1</A></STRONG>
</LI>

<LI>Next by Date:
<STRONG><A HREF="msg00000.html">flux-sources</A></STRONG>
</LI>

<li>Index(es):
<ul>
<li><a href="index.html#00010"><strong>Chronological</Strong></a></li>
<li><a href="threads.html#00010"><strong>Thread</strong></a></li>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
