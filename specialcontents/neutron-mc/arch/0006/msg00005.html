<P><strong><blink>This archive web page is obsolete!</blink></strong> 
<P>Please refer to the new <a href="/pipermail/neutron-mc">mailman<a> archive!


<!-- MHonArc v2.1.0 -->
<!--X-Subject: Re: vitess codes -->
<!--X-From: Kristian Nielsen <kristian.nielsen@risoe.dk> -->
<!--X-Date: 14 Jun 2000 17:20:29 +0200 -->
<!--X-Message-Id:  -->
<!--X-ContentType: multipart/mixed -->
<!--X-Reference-Id: 39324324.8B374A67@hmi.de -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: vitess codes</title>
<link rev="made" href="mailto:kristian.nielsen@risoe.dk">
</head>
<body bgcolor="white">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<A HREF="msg00000.html">Date Prev</A>][<A HREF="msg00006.html">Date Next</A>]
<a href="index.html#00005">[Chronological]</a>
<a href="threads.html#00005">[Thread]</a>
<a href="/cgi-bin/wilma/neutron-mc">[Top]</a>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: vitess codes</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:zsigmond@hmi.de">zsigmond@hmi.de</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: vitess codes</strong></LI>
<LI><strong>From</strong>: <strong>Kristian Nielsen &lt;<A HREF="mailto:kristian.nielsen@risoe.dk">kristian.nielsen@risoe.dk</A>&gt;</strong></LI>
<LI>Date: 14 Jun 2000 17:20:29 +0200</LI>
<LI>In-reply-to: &lt;39324324.8B374A67@hmi.de&gt; (message from Geza Zsigmond on Mon, 29May 2000 12:15:01 +0200)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
Hi Geza,

I made some changes to the translation of the McStas vanadium sample
into a VITESS module. This version actually works in a VITESS pipe, the
one I send you previously does not. I have included it as attachment.

I modified the sampleinelasttest.gui example to use the McStas
translated vanadium sample instead. It seems to work fine. Here is the
pipe command:

./source_Linux -S1 -Z5 -B10000 -L/tmp/knvpipelog1 -K0 -W5 -H5 -n100000 -y0 -z0 -m6 -M6 -t0 -T0 -D0 -w1000 -h1000 | \
./V_sample_Linux -Z5 -B10000 -L/tmp/knvpipelog2 -i0.01 -o0.02 -h0.03 -p1 -r0 -a0 -b0 -c0 -x0.05 -y0 -z0| \
./monitor1_Linux -k3 -Z5 -B10000 -L/tmp/knvpipelog3 -Odivy.dat -n50 -m-50 -M50 -p1 -e0 | \
./monitor1_Linux -k4 -Z5 -B10000 -L/tmp/knvpipelog4 -Odivz.dat -n50 -m-5 -M5 -p1 -e0 | \
./monitor1_Linux -k1 -Z5 -B10000 -L/tmp/knvpipelog5 -Olambda.dat -n100 -m4 -M8 -p1 -e0 | \
./monitor2_Linux -Z5 -B10000 -L/tmp/knvpipelog6 -Opos.dat -y100 -z100 -w-2 -W2 -h-2 -H2 -p1 -e0 | \
./monitor1_Linux -k2 -Z5 -B10000 -L/tmp/knvpipelog7 -Otime.dat -n50 -m1.45 -M1.6 -p1 -e0 -Fnoutput.dat

The vanadium parameters are
  -i  Inner radius of hollow cylinder, in meters
  -o  Outer radius of hollow cylinder, in meters
  -h  Sample height, in meters
  -p  Packing factor (relative density)
  -r  If &gt;0, neutrons are only scattered towards target sphere of this radius
  -a  Target sphere x coordinate
  -b  Target sphere y coordinate
  -c  Target sphere z coordinate
  -x  Sample position x coordinate
  -y  Sample position y coordinate
  -z  Sample position z coordinate

See <A HREF="http://neutron.risoe.dk/mcstas/mcdoc/components/samples/V_sample.html">http://neutron.risoe.dk/mcstas/mcdoc/components/samples/V_sample.html</A>
and the McStas manual for more info.

The commands to generate the module are

  mcstas --no-main V_sample-vitess.instr
  gcc -g -o V_sample_Linux V_sample-vitess.c vitess-lib.c -lm

I have also attached a Linux executable of the module.

As an aside, the module did not work initially, and the reason turned
out to be that when the neutrons leave the source module in the
sampleinelasttest example, they are already inside the sample! I was
just wondering whether the neutrons are actually going backwards in time
in the VITESS simulation? Maybe this is a small bug or maybe intended
behaviour?

 - Kristian.

</PRE>
<P><A HREF="bin00006.bin"> V_sample-vitess.instr</A></P>
<P><A HREF="bin00007.bin"> V_sample_Linux.gz</A></P>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<LI>Prev by Date:
<STRONG><A HREF="msg00000.html">postdoc vacancy</A></STRONG>
</LI>

<LI>Next by Date:
<STRONG><A HREF="msg00006.html">Re: vitess codes</A></STRONG>
</LI>

<li>Index(es):
<ul>
<li><a href="index.html#00005"><strong>Chronological</Strong></a></li>
<li><a href="threads.html#00005"><strong>Thread</strong></a></li>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
