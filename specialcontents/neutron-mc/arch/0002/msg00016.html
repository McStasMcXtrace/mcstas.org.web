<P><strong><blink>This archive web page is obsolete!</blink></strong> 
<P>Please refer to the new <a href="/pipermail/neutron-mc">mailman<a> archive!


<!-- MHonArc v2.1.0 -->
<!--X-Subject: Re: Bugs in McStas/McGUI -->
<!--X-From: Kristian Nielsen <kristian.nielsen@risoe.dk> -->
<!--X-Date: 15 Feb 2000 12:00:26 +0100 -->
<!--X-Message-Id:  -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 38A296BD.5136980A@ill.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: Bugs in McStas/McGUI</title>
<link rev="made" href="mailto:kristian.nielsen@risoe.dk">
</head>
<body bgcolor="white">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<A HREF="msg00018.html">Date Prev</A>][<A HREF="msg00020.html">Date Next</A>]
<a href="index.html#00016">[Chronological]</a>
<a href="threads.html#00016">[Thread]</a>
<a href="/cgi-bin/wilma/neutron-mc">[Top]</a>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: Bugs in McStas/McGUI</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:farhi@ill.fr">farhi@ill.fr</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: Bugs in McStas/McGUI</strong></LI>
<LI><strong>From</strong>: <strong>Kristian Nielsen &lt;<A HREF="mailto:kristian.nielsen@risoe.dk">kristian.nielsen@risoe.dk</A>&gt;</strong></LI>
<LI>Date: 15 Feb 2000 12:00:26 +0100</LI>
<LI>CC: <A HREF="mailto:ron@ill.fr">ron@ill.fr</A></LI>
<LI>In-reply-to: &lt;<A HREF="msg00017.html">38A296BD.5136980A@ill.fr</A>&gt; (message from Farhi on Thu, 10 Feb2000 11:45:17 +0100)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt; Date: Thu, 10 Feb 2000 11:45:17 +0100
&gt; From: Farhi &lt;farhi@ill.fr&gt;

Hi Emmanuel and Ron,

I have fixed some of the points we discussed at my visit a few weeks
ago:

 - Compiler warnings on SGI.
 - Components stored in subdirectories (samples, optics, monitors,
   sources, misc).
 - Automatic generation of documentation (HTML web pages) from component
   header comments.
 - String values for instrument parameters.

The use of strings for instrument parameters was somewhat more involved
than I thought initially because of the need to handle it also in the
front-ends (mcgui), but I think it is solved now.

I can send you a new version if you want. There is still one serious
bug; because of the new subdirectory structure for components, users
installing the new version may end up with both old and new components
in the mcstas directory. This is bound to cause confusion and I have not
yet decided the correct way to solve it.

About your problems on the SGI:

&gt; 1- When on a SGI machine, I launch mcgui with the example tutorial
&gt; in14_tut (from web)
&gt; 
&gt; mica~farhi 32% mcgui in14_tut.instr
&gt; Ambiguous use of expand =&gt; resolved to "expand" =&gt; at
&gt; /usr/ill/lib/perl5/site_perl/Tk/Text.pm line 1038.
&gt; Ambiguous use of expand =&gt; resolved to "expand" =&gt; at
&gt; /usr/ill/lib/perl5/site_perl/Tk/Text.pm line 1075.

Hm, this warning addresses the syntax in the source for Perl/Tk. What
version of Perl/Tk is installed? Anyway, this sounds completely harmless
(but annoying anyway). It will probably go away if the "-w" switch in
the first line of mcgui.pl is removed (please tell me if it does).

&gt; Then if I try to compile instrument
&gt; mcstas -t -o in14_tut.out.c in14_tut.instr
&gt; 
&gt; Then I crashes (mcgui disappears, core dumped). No 'cc' call is
&gt; displayed in mcgui, but I think the problem occurs here.
&gt; The manual processing works ok.

&gt; 2- When using the POLARISATION macro, mcstas warns about comps that do
&gt; not handle that, but also crashes (seg fault) at the end.
&gt; The '.c' file is generated anyway.

Not good! Unfortunately, I could not reproduce these two crashes. That
makes it quite difficult to give suggestions.

Would it be possible to re-establish my "nielsen" account at the ILL?
Then I could just log in and try it myself, and hopefully the cause
would be apparent in 10 minutes?

 - Kristian.




</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00017" HREF="msg00017.html">Bugs in McStas/McGUI</A></STRONG>
<UL><LI><EM>From:</EM> Farhi &lt;farhi@ill.fr&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<LI>Prev by Date:
<STRONG><A HREF="msg00018.html">Re: McStas installation and Perl</A></STRONG>
</LI>

<LI>Next by Date:
<STRONG><A HREF="msg00020.html">Re: mirror reflection</A></STRONG>
</LI>

<li>Index(es):
<ul>
<li><a href="index.html#00016"><strong>Chronological</Strong></a></li>
<li><a href="threads.html#00016"><strong>Thread</strong></a></li>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
