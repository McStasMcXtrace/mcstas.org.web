<P><strong><blink>This archive web page is obsolete!</blink></strong> 
<P>Please refer to the new <a href="/pipermail/neutron-mc">mailman<a> archive!


<!-- MHonArc v2.1.0 -->
<!--X-Subject: Re: mcgui on non linux machines -->
<!--X-From: Kristian Nielsen <kristian.nielsen@risoe.dk> -->
<!--X-Date: 3 Feb 2000 11:40:08 +0100 -->
<!--X-Message-Id:  -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: 389950D1.6E1F6A81@ill.fr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: mcgui on non linux machines</title>
<link rev="made" href="mailto:kristian.nielsen@risoe.dk">
</head>
<body bgcolor="white">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<A HREF="msg00008.html">Date Prev</A>][<A HREF="msg00009.html">Date Next</A>]
<a href="index.html#00007">[Chronological]</a>
<a href="threads.html#00007">[Thread]</a>
<a href="/cgi-bin/wilma/neutron-mc">[Top]</a>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: mcgui on non linux machines</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:farhi@ill.fr">farhi@ill.fr</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: mcgui on non linux machines</strong></LI>
<LI><strong>From</strong>: <strong>Kristian Nielsen &lt;<A HREF="mailto:kristian.nielsen@risoe.dk">kristian.nielsen@risoe.dk</A>&gt;</strong></LI>
<LI>Date: 3 Feb 2000 11:40:08 +0100</LI>
<LI>In-reply-to: &lt;<A HREF="msg00008.html">389950D1.6E1F6A81@ill.fr</A>&gt; (message from Farhi on Thu, 03 Feb2000 10:56:33 +0100)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt; Date: Thu, 03 Feb 2000 10:56:33 +0100
&gt; From: Farhi &lt;farhi@ill.fr&gt;

&gt; No problems to get back ? Perhaps could you see the top of the
&gt; Mont-Blanc flying over the clouds ?

No problems, but there were too many clouds to see anything (or maybe I
was in the wrong side of the plane).

&gt; I've improved my Flux_adapter and Optimizer. I think it is possible to
&gt; use more that one Monitor Optimizer, in order to optimize simulation
&gt; according to various criteria. Each neutron that reach a
&gt; Monitor_Optimizer increases the Source efficiency, even if it is counted
&gt; more that once during tracing. If the neutron reaches two
&gt; Monitor_Optimizer, it will count twice in the optimization, and this is
&gt; fair.

Sounds good!

&gt; I've experimented a major pb for mcgui. When on a Linux machine, no pbs
&gt; because these machines use the same compilers and options for linker...
&gt; But when running for instance on SGI/IRIX, it leads to a core because
&gt; one has to use the IRIX cc compiler, with specific options. gcc crashes.
&gt; And for HP or DEC machines, htere are even more restricted options (to
&gt; force ANSI code for instance).

Ok, there is (or should be) a way to handle this. The command used by
mcgui to compile is the same command used to compile mcstas during
installation. If this is wrong, McStas must be re-installed with the
proper compile commands.

The way to do this is

  rm config.cache        # To remove any old, wrong settings
  setenv CC cc           # Name of compiler to use
  setenv CFLAGS "-O -g"  # Necessary compiler options
  ./configure
  make install

By setting CC and CFLAGS before configure, mcgui should pick up the
right commands. Of course, there should be a way to override this after
installation, I will work on that.

By the way, I thought I had fixed the problem on the DEC machines, if
not please send details.

&gt; I've copied the latest versions of mcstas package on the Web page, as
&gt; well as the new components definitions. It seems however that not all
&gt; components have a valid header yet. The components that I had installed
&gt; before did ! I think I get them back on the web now, so that you can get
&gt; them, and compare/add headers and MCDISPLAY sections. If you do not have
&gt; time for that, I think I can do the 'homogeneisation' today or tomorrow.
&gt; Then I'll send you the new clean components.

Indeed, I seem to have forgotten MCDISPLAY in five components: Chopper,
First_Chopper, Monitor_4PI, Source_div, and V_selector.comp. Thanks for
the notice.

However, I could not find any official components without headers (only
did a quick check). I think perhaps you are thinking of some of the
components that were in the BETA releases I send you, but that were
removed from the final release. Perhaps they just got left in your
/usr/local/lib/mcstas directory? Otherwise let me know the names, and I
will fix it.

Anyway, thanks for the comments. It was good to see you at the ILL!

 - Kristian.




</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00008" HREF="msg00008.html">mcgui on non linux machines</A></STRONG>
<UL><LI><EM>From:</EM> Farhi &lt;farhi@ill.fr&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<LI>Prev by Date:
<STRONG><A HREF="msg00008.html">mcgui on non linux machines</A></STRONG>
</LI>

<LI>Next by Date:
<STRONG><A HREF="msg00009.html">SINS slides?</A></STRONG>
</LI>

<li>Index(es):
<ul>
<li><a href="index.html#00007"><strong>Chronological</Strong></a></li>
<li><a href="threads.html#00007"><strong>Thread</strong></a></li>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
