<P><strong><blink>This archive web page is obsolete!</blink></strong> 
<P>Please refer to the new <a href="/pipermail/neutron-mc">mailman<a> archive!


<!-- MHonArc v2.1.0 -->
<!--X-Subject: Re: McStas -->
<!--X-From: Kristian Nielsen <kristian.nielsen@risoe.dk> -->
<!--X-Date: 20 Aug 1999 08:36:57 +0200 -->
<!--X-Message-Id:  -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: Pine.HPX.4.10.9908191511290.3462&#45;100000@ashima.iucf.indiana.edu -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: McStas</title>
<link rev="made" href="mailto:kristian.nielsen@risoe.dk">
</head>
<body bgcolor="white">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<A HREF="msg00001.html">Date Prev</A>][<A HREF="msg00003.html">Date Next</A>]
<a href="index.html#00002">[Chronological]</a>
<a href="threads.html#00002">[Thread]</a>
<a href="/cgi-bin/wilma/neutron-mc">[Top]</a>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: McStas</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:glhansen@iucf.indiana.edu">glhansen@iucf.indiana.edu</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: McStas</strong></LI>
<LI><strong>From</strong>: <strong>Kristian Nielsen &lt;<A HREF="mailto:kristian.nielsen@risoe.dk">kristian.nielsen@risoe.dk</A>&gt;</strong></LI>
<LI>Date: 20 Aug 1999 08:36:57 +0200</LI>
<LI>In-reply-to: &lt;<A HREF="msg00001.html">Pine.HPX.4.10.9908191511290.3462-100000@ashima.iucf.indiana.edu</A>&gt;(glhansen@iucf.indiana.edu)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt; Date: Thu, 19 Aug 1999 15:14:23 -0500 (EST)
&gt; From: "Gregory L. Hansen" &lt;glhansen@iucf.indiana.edu&gt;

&gt; I was attracted by your wonderful project, but I'm having trouble
&gt; installing it on an HP-UX system.  The /.configure --prefix=/user/glhansen
&gt; part seemed to go well, but I got a bunch of errors on make that I don't
&gt; know what to do with, they're copied below.  I don't have any kind of
&gt; superuser privilages.
&gt;
&gt; glhansen@ashima:/mcstas-1.1 $ make
&gt;         gcc -I. -I. -c -g -O2
&gt; -DMC_SYS_DIR='"'/users/glhansen/lib/mcstas'"' -DCC
&gt; _HAS_PROTOS=1 -DHAVE_STRCASECMP=1 -DHAVE_FDOPEN=1  -DDEBUG=0
&gt; instrument.tab.c
&gt; In file included from
&gt; /usr/local/gnu/lib/gcc-lib/hppa1.1-hp-hpux9.05/2.7.0/inclu
&gt; de/stdlib.h:231,
&gt;                  from mcstas.h:78,
&gt;                  from instrument.y:18:
&gt; /usr/include/pwd.h:29: parse error before `int32_t'
&gt; /usr/include/pwd.h:29: warning: no semicolon at end of struct or union
&gt; /usr/include/pwd.h:31: parse error before `}'
&gt; /usr/include/pwd.h:67: parse error before `int32_t'
&gt; /usr/include/pwd.h:67: warning: no semicolon at end of struct or union

Hm, this looks like there is a problem with the installation of the GCC
C compiler on your machine.

I think the first thing to try is to compile McStas with the standard
HPUX compiler (assuming you have it installed). To do this, compile
McStas again as follows:

    rm -f config.cache
    setenv CC cc
    ./configure --prefix=/user/glhansen
    make

and see if it helps (or mail me the output if it does not). You do not
need superuser privileges to install McStas. Just let me know if you
need further assistance.

I found the following on the Web, which seems to mention a similar
problem:

----------------------------------------------------------------------
Norman Bullen &lt;nbullen@ix.netcom.com&gt; writes:

&gt; Andy Armacost wrote:
&gt; &gt;
&gt; &gt; Having problems running Gnu C/C++ on hpux 10.20.  When #INCLUDEing
&gt; &gt; stdlib.h, we get parse errors in the header file pwd.h.

&gt; &gt; from hello.c:3:
&gt; &gt; /usr/include/pwd.h:37: parse error before `int32_t'
&gt; &gt; /usr/include/pwd.h:37: warning: no semicolon at end of struct or union
&gt; &gt; /usr/include/pwd.h:39: parse error before `}'
&gt; &gt; /usr/include/pwd.h:75: parse error before `int32_t'
&gt; &gt; /usr/include/pwd.h:75: warning: no semicolon at end of struct or union

The following program works for me on an HP-UX 10.20 machine compiled
using g++

#include &lt;iostream.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;pwd.h&gt;

int main(void)
{
  cout &lt;&lt; " hello\n";
  return 0;
}

the pwd.h header is included in the stdlib.h file (at least in the HP
version) so you should look in the gcc fixed include files. gcc does
not use the standard system includes, instead it copies them and
changes them to be ANSI c compliant. The sed program for HP 10.20 is
broken and the gcc installation needs either a patched HP sed or the
Gnu version of sed. If not, compilation of programs will fail with
symptoms similar to the above.
----------------------------------------------------------------------

 - Kristian.

--
Kristian Nielsen        kristian.nielsen@risoe.dk
Risø National Laboratory
Condensed Matter Physics and Chemistry Department
Tel. +45 4677 5515   Fax +45 4677 4790




</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00001" HREF="msg00001.html">McStas</A></STRONG>
<UL><LI><EM>From:</EM> "Gregory L. Hansen" &lt;glhansen@iucf.indiana.edu&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<LI>Prev by Date:
<STRONG><A HREF="msg00001.html">McStas</A></STRONG>
</LI>

<LI>Next by Date:
<STRONG><A HREF="msg00003.html">Re: McStas</A></STRONG>
</LI>

<li>Index(es):
<ul>
<li><a href="index.html#00002"><strong>Chronological</Strong></a></li>
<li><a href="threads.html#00002"><strong>Thread</strong></a></li>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
