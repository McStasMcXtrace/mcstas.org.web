<P><strong><blink>This archive web page is obsolete!</blink></strong> 
<P>Please refer to the new <a href="/pipermail/neutron-mc">mailman<a> archive!


<!-- MHonArc v2.1.0 -->
<!--X-Subject: Re: Sources -->
<!--X-From: Kristian Nielsen <kristian.nielsen@risoe.dk> -->
<!--X-Date: 27 Jan 1999 11:29:47 +0100 -->
<!--X-Message-Id:  -->
<!--X-ContentType: text/plain -->
<!--X-Reference-Id: l03110700b2d493843cca@[193.48.250.148] -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: Sources</title>
<link rev="made" href="mailto:kristian.nielsen@risoe.dk">
</head>
<body bgcolor="white">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<A HREF="msg00025.html">Date Prev</A>][<A HREF="msg00027.html">Date Next</A>]
<a href="index.html#00026">[Chronological]</a>
<a href="threads.html#00026">[Thread]</a>
<a href="/cgi-bin/wilma/neutron-mc">[Top]</a>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>Re: Sources</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong><A HREF="mailto:farhi@ill.fr">farhi@ill.fr</A></strong></LI>
<LI><strong>Subject</strong>: <strong>Re: Sources</strong></LI>
<LI><strong>From</strong>: <strong>Kristian Nielsen &lt;<A HREF="mailto:kristian.nielsen@risoe.dk">kristian.nielsen@risoe.dk</A>&gt;</strong></LI>
<LI>Date: 27 Jan 1999 11:29:47 +0100</LI>
<LI>In-reply-to: &lt;<A HREF="msg00025.html">l03110700b2d493843cca@[193.48.250.148]</A>&gt; (farhi@ill.fr)</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<PRE>
&gt; Yes, you're right, creating a rectangular source is very easy (just
&gt; change angle and radius directly into dimentions for the two first
&gt; random numbers). For a Maxwellian distribution, I hesitate between
&gt; using a flat energy distribution, but weightening with
&gt; p=cte.exp(-E/T), or using E = -T log(rand01/cte), in order to produce
&gt; more neutrons of certain energies. The first solution is simpler, but
&gt; some neutrons with low weight are not very useful. The second solution
&gt; appears to me more efficient in computation.  What do you think about
&gt; it ?

My thoughts on the matter are quite complex! I have been thinking for a
long time about writing a much better source component. The component
would take a tabulated energy distribution as an input parameter, so it
could be flat, Maxwellian, measured or anything desired. It would use
adaptive importance sampling to select the neutron energy, so that it
would automatically select a "useful" energy for most neutrons. I have
most of the details in place, but I do not know when I will get the time
to actually implement it; hopefully sometimes this spring.

I think you are definitely right that the correct approach to selecting
the neutron energy is the key to good performance. But which approach is
the right one will in general depend on the application. For example, in
a full tripple-axis setup, it will be necessary to select neutrons
energies from a small range appropriate to the monochromator setting. To
test a guide system, a wide range might be appropriate.

In any case, the way to select neutron energies is to pick the energy
from whatever random number distribution gives the best efficiency, and
then adjust the weight accordingly to match a flat or Maxwellian or
whatever distribution.

 - Kristian.




</PRE>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<UL><LI><STRONG>References</STRONG>:
<UL>
<LI><STRONG><A NAME="00025" HREF="msg00025.html">Sources</A></STRONG>
<UL><LI><EM>From:</EM> "Emmanuel Farhi (71 83)" &lt;farhi@ill.fr&gt;</LI></UL></LI>
</UL></LI></UL>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<LI>Prev by Date:
<STRONG><A HREF="msg00025.html">Sources</A></STRONG>
</LI>

<LI>Next by Date:
<STRONG><A HREF="msg00027.html">Re: Error in Calculation of absolute Flux (Source_flux) ???</A></STRONG>
</LI>

<li>Index(es):
<ul>
<li><a href="index.html#00026"><strong>Chronological</Strong></a></li>
<li><a href="threads.html#00026"><strong>Thread</strong></a></li>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
