<P><strong><blink>This archive web page is obsolete!</blink></strong> 
<P>Please refer to the new <a href="/pipermail/neutron-mc">mailman<a> archive!


<!-- MHonArc v2.1.0 -->
<!--X-Subject: New tested components for McStas -->
<!--X-From: Farhi <farhi@ill.fr> -->
<!--X-Date: Tue, 07 Mar 2000 17:32:31 +0100 -->
<!--X-Message-Id: 38C52F1E.E5C40370@ill.fr -->
<!--X-ContentType: multipart/alternative -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<html>
<head>
<title>New tested components for McStas</title>
<link rev="made" href="mailto:farhi@ill.fr">
</head>
<body bgcolor="white">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<A HREF="msg00016.html">Date Prev</A>][<A HREF="msg00020.html">Date Next</A>]
<a href="index.html#00001">[Chronological]</a>
<a href="threads.html#00001">[Thread]</a>
<a href="/cgi-bin/wilma/neutron-mc">[Top]</a>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<H1>New tested components for McStas</H1>
<HR>
<!--X-Subject-Header-End-->
<UL>
<LI><strong>To</strong>: <strong>"<A HREF="mailto:neutron-mc@risoe.dk">neutron-mc@risoe.dk</A>" &lt;<A HREF="mailto:neutron-mc@risoe.dk">neutron-mc@risoe.dk</A>&gt;</strong></LI>
<LI><strong>Subject</strong>: <strong>New tested components for McStas</strong></LI>
<LI><strong>From</strong>: <strong>Farhi &lt;<A HREF="mailto:farhi@ill.fr">farhi@ill.fr</A>&gt;</strong></LI>
<LI>Date: Tue, 07 Mar 2000 17:32:31 +0100</LI>
<LI>Organization: ILL</LI>
</UL>
<!--X-Head-Body-Sep-Begin-->
<HR>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->


Hello McStas users,
<p>I here annouce 3 new / updated components for McStas. These are available
at
<p>&lt; <A HREF="http://neutron.risoe.dk/mcstas/mcdoc/components/">http://neutron.risoe.dk/mcstas/mcdoc/components/</A> >
<p>and
<p>&lt; <A HREF="http://www.ill.fr/tas/mcstas/components/">http://www.ill.fr/tas/mcstas/components/</A> >
<p>1-The <b>Source_Optimizer </b>(v 0.07)<b> </b>is a component that optimizes
the McStas neutron shots in order to reach a given place in the simulation.
These places (you should even be able to use more that one) are indicated
by the <b>Monitor_Optimizer</b> positions.
<br>The Source_Optimizer <b>only requires 1 parameter </b>(it acts on the
whole neutron beam) that is a string, and can be empty.
<br>This 'options' parameter is parsed, and can contain some user choices
concerning the optimization process, specified with flexible keywords.
<br>I personnally use : o<tt>ptions = ""</tt>, that is the default configuration.
This component is 'intelligent' and can adapt it's features to your simulation.
The optimization is made on neutron variables x y vx vy vz, considered
to be independent. The energy distribution is kept, as far as possible.
The flux is kept of course.
<br>The speedup on neutron counts reaching monitors&nbsp; is at least of
20. I just obtained 50 in my last test !
<p>(near the source, at a distance of 1 mm in my tests)
<br><tt>COMPONENT optim_s = Source_Optimizer(</tt>
<br><tt>&nbsp;&nbsp;&nbsp; options="")</tt>
<p>2- The <b>Monitor_Optimizer</b> (v 0.07) works with the Source_Optimizer.
It only requires x/y dimension (4 parameters)
<p>(near the optimisation point, usually sample or detector)
<br><tt>COMPONENT optim_m = Monitor_Optimizer(</tt>
<br><tt>&nbsp;&nbsp;&nbsp; xmin = -0.05, xmax = 0.05,</tt>
<br><tt>&nbsp;&nbsp;&nbsp; ymin = -0.05, ymax = 0.05)</tt>
<p>3- The <b>Monitor_nD</b> (v 0.13) is a general monitor that can act
as any of all previous monitors. It only requires dimension (4 params in
x/y size), and an 'options' string specifying what to monitor.
<br>This 'options' parameter is parsed, and can contain some user choices
concerning the monitor. A 0D monitor is default (just flux).
<br>There are 25 variables available for monitoring (wavevector, speed,
position, divergences, etc...), and you can decide to output these as 1D
or 2D (related variables) signals. A log (list) of neutron variables is
also possible ('list all neutrons' or 'list 1000 neutrons' options).
<br>A special 'auto limits' feature compute what are the necessary limits
for the monitor.
<br>The shape of the monitor can be plane square, disk, sphere and cylinder.
<br>I just recorded a kz_kx image of neutron beam at sample position with
<p>(this one is just after the Monitor_Optimizer up-there, near my sample
position, at a distance of 1 mm)
<br><tt>COMPONENT MSample = Monitor_nD(</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; xmin = -0.05, xmax = 0.05,</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; ymin = -0.05, ymax = 0.05,</tt>
<br><tt>&nbsp;&nbsp;&nbsp;&nbsp; options = "kx kz, all bins = 50, auto
limits, file=MSample")</tt>
<p>I hope that these components will be usefull to you, and don't hesitate
to contact me in case of questions, bugs, etc...
<p>Cheers. EF.
<pre>--&nbsp;
Emmanuel FARHI, <A HREF="http://www.ill.fr/tas/people/Farhi.html">http://www.ill.fr/tas/people/Farhi.html</A>&nbsp;&nbsp;&nbsp;&nbsp; \|/ ____ \|/
TAS-Group, Institut Laue-Langevin (ILL) Grenoble&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ~@-/ oO \-@~
Avenue J. Horowitz, BP 156, 38042 Grenoble Cedex 9,France&nbsp;&nbsp; /_( \__/ )_\
Work :Tel (33/0) 4 76 20 71 83. Fax (33/0) 4 76 48 39 06&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \__U_/
La Grande Arche, Chateau d'Uriage, 38410 Saint Martin d'Uriage 04 76 59 73 94</pre>
&nbsp;

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<HR>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<LI>Prev by Date:
<STRONG><A HREF="msg00016.html">Re: IN6 Monochromators</A></STRONG>
</LI>

<LI>Next by Date:
<STRONG><A HREF="msg00020.html">About spin ?</A></STRONG>
</LI>

<li>Index(es):
<ul>
<li><a href="index.html#00001"><strong>Chronological</Strong></a></li>
<li><a href="threads.html#00001"><strong>Thread</strong></a></li>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</BODY>
</HTML>
